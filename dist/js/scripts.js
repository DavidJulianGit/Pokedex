let pokemonRepository=function(){let e=[];function t(t){e.push(t)}function n(){return e}function i(e){let t=document.querySelector('#pokemon-ul'),n=document.createElement('li'),i=document.createElement('button');i.innerText=e.name.charAt(0).toUpperCase()+e.name.slice(1),i.addEventListener('click',t=>(function e(t){a(t).then(()=>{var e;let n,i,s;n=(e=t).name.charAt(0).toUpperCase()+e.name.slice(1),document.getElementById('modalTitle').innerText=n,(i=document.getElementById('modalImg')).setAttribute('src',e.imageUrl),i.setAttribute('alt','Image of a Pokemon namend '+n),document.getElementById('modalHeight').innerText=10*e.height+' cm',document.getElementById('modalWeight').innerText=e.weight/10+' kg',(s=document.getElementById('modalTypes')).innerHTML='',e.types.forEach(e=>{let t=document.createElement('li');t.classList.add('list-group-item'),t.classList.add('border-0'),t.classList.add('p-0'),t.classList.add('m-0'),t.classList.add('text-capitalize'),t.innerText=e.type.name,s.appendChild(t)})})})(e,t)),n.classList.add('list-group-item'),n.classList.add('list-group-item-action'),n.classList.add('border-light-subtlee'),n.classList.add('text-center'),n.classList.add('px-0'),i.classList.add('btn'),i.classList.add('list-btn'),i.classList.add('container-fluid'),i.setAttribute('data-bs-toggle','modal'),i.setAttribute('data-bs-target','#pokeModal'),n.appendChild(i),t.appendChild(n)}function s(){document.querySelector('#pokemon-ul').innerHTML=''}function a(e){return fetch(e.detailsUrl).then(e=>e.json()).then(t=>{console.log(t),e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=t.types}).catch(e=>{console.error(e)})}function l(){let e=document.getElementById('loading');e.remove()}return{add:t,getAll:n,addListItem:i,loadList:function e(){return function e(){let t=document.querySelector('#pokemon-ul'),n=document.createElement('li');n.classList.add('list-group-item'),n.classList.add('list-group-item-action'),n.id='loading';let i=`
                                        <div class='d-flex justify-content-center'>
                                            <div class='spinner-border' role='status'>
                                            <span class='visually-hidden'>Loading...</span>
                                            </div>
                                        </div>
                                        `;n.innerHTML=i,t.appendChild(n)}(),fetch('https://pokeapi.co/api/v2/pokemon/?limit=150').then(e=>(l(),e.json())).then(e=>{e.results.forEach((e,n)=>{t({name:e.name,detailsUrl:e.url,index:n})})}).catch(e=>{l(),console.error(e)})},loadDetails:a,deleteAllListitems:s,sortListBy:function t(n){var a,l;let o=(a=e,l=n,a.sort((e,t)=>e[l]<t[l]?-1:e[l]>t[l]?1:0));s(),o.forEach(e=>{i(e)})}}}(),btnSortByName=document.getElementById('btn-sort-name'),btnSortByIndex=document.getElementById('btn-sort-index');btnSortByName.addEventListener('click',()=>pokemonRepository.sortListBy('name')),btnSortByIndex.addEventListener('click',()=>pokemonRepository.sortListBy('index')),pokemonRepository.loadList().then(()=>{pokemonRepository.getAll().forEach(e=>{pokemonRepository.addListItem(e)})});