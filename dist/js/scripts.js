let pokemonRepository=function(){let e=[],t=[],n=document.getElementById("modalImg"),i=document.getElementById("modalTitle"),s=document.getElementById("modalHeight"),a=document.getElementById("modalWeight"),r=document.getElementById("modalTypes");function l(t){e.push(t)}function o(){return e}function d(e){let t=document.querySelector("#pokemon-ul"),l=document.createElement("li"),o=document.createElement("button");o.innerText=e.name.charAt(0).toUpperCase()+e.name.slice(1),o.addEventListener("click",t=>{var l;return l=e,void(n.removeAttribute("src"),n.removeAttribute("alt"),i.innerText="",s.innerText="",a.innerText="",r.innerHTML="",m(l).then(()=>{var e;let t;t=(e=l).name.charAt(0).toUpperCase()+e.name.slice(1),i.innerText=t,n.setAttribute("src",e.imageUrl),n.setAttribute("alt","Image of a Pokemon namend "+t),s.innerText=10*e.height+" cm",a.innerText=e.weight/10+" kg",r.innerHTML="",e.types.forEach(e=>{let t=document.createElement("li");t.classList.add("list-group-item"),t.classList.add("border-0"),t.classList.add("p-0"),t.classList.add("m-0"),t.classList.add("text-capitalize"),t.innerText=e.type.name,r.appendChild(t)})}))}),l.classList.add("list-group-item"),l.classList.add("list-group-item-action"),l.classList.add("text-center"),l.classList.add("px-0"),o.classList.add("btn"),o.classList.add("list-btn"),o.classList.add("w-100"),o.setAttribute("data-bs-toggle","modal"),o.setAttribute("data-bs-target","#pokeModal"),l.appendChild(o),t.appendChild(l)}function c(){document.querySelector("#pokemon-ul").innerHTML=""}function m(e){return fetch(e.detailsUrl).then(e=>e.json()).then(t=>{console.log(t),e.imageUrl=t.sprites.front_default,e.height=t.height,e.weight=t.weight,e.types=t.types}).catch(e=>{console.error(e)})}function p(){let e=document.getElementById("loading");e.remove()}function u(e,t){return e.sort((e,n)=>e[t]<n[t]?-1:e[t]>n[t]?1:0)}return{add:l,getAll:o,addListItem:d,loadList:function e(){return function e(){let t=document.querySelector("#pokemon-ul"),n=document.createElement("li");n.classList.add("list-group-item"),n.classList.add("list-group-item-action"),n.id="loading";let i=`
                                        <div class="d-flex justify-content-center">
                                            <div class="spinner-border" role="status">
                                            <span class="visually-hidden">Loading...</span>
                                            </div>
                                        </div>
                                        `;n.innerHTML=i,t.appendChild(n)}(),fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(e=>(p(),e.json())).then(e=>{e.results.forEach((e,t)=>{l({name:e.name,detailsUrl:e.url,index:t})})}).catch(e=>{p(),console.error(e)})},loadDetails:m,deleteAllListitems:c,sortListBy:function n(i){let s=[];s=t.length>0?u(t,i):u(e,i),console.log(s),c(),s.forEach(e=>{d(e)})},filterListBy:function n(i){let s=e.filter(e=>e.name.slice(0,i.length).toLowerCase()===i.toLowerCase());t=s.slice(),c(),t.forEach(e=>{d(e)})}}}(),btnSortByName=document.getElementById("btn-sort-name"),btnSortByIndex=document.getElementById("btn-sort-index"),inputSearch=document.getElementById("search"),btnResetSearch=document.getElementById("btnResetSearch");btnSortByName.addEventListener("click",()=>pokemonRepository.sortListBy("name")),btnSortByIndex.addEventListener("click",()=>pokemonRepository.sortListBy("index")),search.addEventListener("input",e=>{""===e.target.value?btnResetSearch.disabled=!0:btnResetSearch.disabled=!1,pokemonRepository.filterListBy(e.target.value)}),btnResetSearch.addEventListener("click",()=>{search.value="",pokemonRepository.filterListBy(""),btnResetSearch.disabled=!0}),pokemonRepository.loadList().then(()=>{pokemonRepository.getAll().forEach(e=>{pokemonRepository.addListItem(e)})});